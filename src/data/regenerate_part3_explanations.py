import json

# Define the new explanations
# Images are selected from the available list in public/images
# Quotes are added for educational value

updates = {
    # TOPIC 5: SIGNAL CHAIN
    "v1_p3_t5_b_1": """<h3>The Transducer</h3><p>The <strong>Microphone</strong> is the first point of contact, converting acoustic sound waves into an electrical voltage.</p><blockquote>"Many engineers stress capturing a great sound at the source." - <em>Mix Prod Masters</em></blockquote><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Transducer' /></div>""",
    "v1_p3_t5_b_2": """<h3>Balanced Connection</h3><p><strong>XLR cables</strong> are the industry standard for transporting low-level microphone signals. Their 3-pin design helps reject noise.</p><blockquote>"Good cables are the cheapest insurance you can buy." - <em>Live Sound Wisdom</em></blockquote><div class='explanation-media'><img src='/images/svg/balanced_cable.svg' alt='XLR Cable' /></div>""",
    "v1_p3_t5_b_3": """<h3>Storage</h3><p>The audio is written as binary data to the computer's <strong>Hard Drive or SSD</strong>. Fast storage is crucial for high track counts.</p><blockquote>"You don't need the latest gear to make a great track; you just need a great idea." - <em>Deadmau5</em></blockquote><div class='explanation-media'><img src='/images/svg/hard_drive_icon.svg' alt='Storage' /></div>""",
    "v1_p3_t5_b_4": """<h3>Energy Converter</h3><p>Both <strong>Microphones</strong> (Acoustic to Electric) and speakers (Electric to Acoustic) are transducers.</p><blockquote>"The most important part of the signal chain is the room and mic choice." - <em>Studio Engineer</em></blockquote><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Transducer' /></div>""",
    "v1_p3_t5_b_5": """<h3>Gain Staging</h3><p>Mic signals are extremely weak (-60dBu). A <strong>Preamp</strong> amplifies this weak voltage up to standard Line Level (+4dBu).</p><blockquote>"Garbage in, garbage out." - <em>George Massenburg</em></blockquote><div class='explanation-media'><img src='/images/svg/preamp_gain.svg' alt='Preamp' /></div>""",
    "v1_p3_t5_b_6": """<h3>The Hub</h3><p>The <strong>Audio Interface</strong> acts as the bridge, containing Preamps, Converters (A/D and D/A), and headphone outputs.</p><blockquote>"Your interface is the heart of your digital studio."</blockquote><div class='explanation-media'><img src='/images/generated/audio_interface_definition.svg' alt='Audio Interface' /></div>""",
    "v1_p3_t5_b_7": """<h3>Truth Tellers</h3><p>Unlike Hi-Fi speakers which flatter the sound, <strong>Studio Monitors</strong> aim to be flat and honest, revealing flaws in the mix.</p><blockquote>"If it sounds good on monitors, it will sound good anywhere."</blockquote><div class='explanation-media'><img src='/images/diagram_fletcher_munson_v2.png' alt='Hearing' /></div>""",
    "v1_p3_t5_b_8": """<h3>Organization</h3><p>An <strong>Input List</strong> maps sources (Kick, Snare, Vocal) to hardware inputs (Chan 1, Chan 2, Chan 3) so patching is efficient.</p><blockquote>"Preparation prevents poor performance."</blockquote><div class='explanation-media'><img src='/images/svg/track_header.svg' alt='Track List' /></div>""",
    "v1_p3_t5_b_9": """<h3>The Jack</h3><p>Guitars use a <strong>1/4" TS (Tip-Sleeve)</strong> connector, which carries an unbalanced instrument signal.</p><blockquote>"Leo Fender sat on this standard in the 50s."</blockquote><div class='explanation-media'><img src='/images/MT Pictures/TRS label.png' alt='Cable Types' /></div>""",
    "v1_p3_t5_b_10": """<h3>Input vs Output</h3><p><strong>Gain</strong> sets how much signal enters the circuit (affecting distortion); <strong>Volume</strong> sets how loud the result is.</p><blockquote>"Gain staging is the art of maintaining the perfect level."</blockquote><div class='explanation-media'><img src='/images/svg/gain_knob.svg' alt='Gain Knob' /></div>""",

    "v1_p3_t5_i_1": """<h3>Voltage Levels</h3><p>Mic level is millivolts; Line level is over a Volt. Plugging a Line signal into a Mic input will massively distort.</p><blockquote>"Know your levels to save your gear."</blockquote><div class='explanation-media'><img src='/images/diagram_di_box_flow_v2.png' alt='Mic vs Line' /></div>""",
    "v1_p3_t5_i_2": """<h3>Powering the Capacitor</h3><p><strong>Condenser Mics</strong> need external power to charge their backplate and run their internal impedance converter.</p><blockquote>"Check the phantom power last."</blockquote><div class='explanation-media'><img src='/images/svg/phantom_power_flow.svg' alt='Phantom Power' /></div>""",
    "v1_p3_t5_i_3": """<h3>Floor Noise</h3><p>If you record quietly, your music sits close to the electronic noise floor. Boosting it later boosts the hiss equally.</p><blockquote>"Record healthy levels, but don't clip."</blockquote><div class='explanation-media'><img src='/images/diagram_bitdepth_v2.png' alt='SNR' /></div>""",
    "v1_p3_t5_i_4": """<h3>Digital Gateway</h3><p>The <strong>A/D Converter</strong> takes the amplified analog voltage and samples it into binary code for the computer.</p><blockquote>"The converter is the frame of your picture."</blockquote><div class='explanation-media'><img src='/images/gen/diagram_digital_audio.svg' alt='Digital Audio' /></div>""",
    "v1_p3_t5_i_5": """<h3>Zero Latency</h3><p><strong>Direct Monitoring</strong> splits the analog signalâ€”one path sits to the convertor, the other goes straight to your headphones, identifying zero delay issues.</p><blockquote>"Timing is everything."</blockquote><div class='explanation-media'><img src='/images/svg/direct_monitoring.svg' alt='Direct Monitoring' /></div>""",
    "v1_p3_t5_i_6": """<h3>The CD Standard</h3><p><strong>44.1 kHz</strong> was chosen because it cleanly covers the human hearing range (20Hz-20kHz) according to Nyquist, plus a small buffer for filters.</p><blockquote>"Sony and Philips set the standard."</blockquote><div class='explanation-media'><img src='/images/diagram_nyquist_v2.png' alt='CD Specs' /></div>""",
    "v1_p3_t5_i_7": """<h3>CPU Breathing Room</h3><p>A larger <strong>Buffer Size</strong> gives the CPU more time to process plugins, preventing dropouts (pops), but increases latency.</p><blockquote>"Stability vs Latency: The eternal trade-off."</blockquote><div class='explanation-media'><img src='/images/svg/latency_buffer.svg' alt='Buffer' /></div>""",
    "v1_p3_t5_i_8": """<h3>The Cold Wire</h3><p>Tip = Hot (+), Ring = Cold (-), Sleeve = Ground. Note: On headphones, Tip is Left, Ring is Right.</p><div class='explanation-media'><img src='/images/svg/balanced_cable.svg' alt='TRS' /></div>""",
    "v1_p3_t5_i_9": """<h3>Safety Valve</h3><p>A <strong>Pad</strong> is used when a source (like a loud Drum) is too hot for the preamp even at minimum gain, preventing distortion.</p><blockquote>"Better safe than clipped."</blockquote><div class='explanation-media'><img src='/images/svg/pad_switch.svg' alt='Pad' /></div>""",
    "v1_p3_t5_i_10": """<h3>Safety Margin</h3><p><strong>Headroom</strong> is the safety zone. Recording at -18dBFS average leaves room for transient spikes without hitting the 0dBFS ceiling.</p><blockquote>"Leave yourself room to breathe."</blockquote><div class='explanation-media'><img src='/images/diagram_clipping_v2.png' alt='Headroom' /></div>""",

    "v1_p3_t5_a_1": """<h3>Binary Resolution</h3><p>Each bit adds 6dB of dynamic range. 24-bit audio allows for a noise floor so low it is effectively inaudible.</p><blockquote>"There's a tremendous power in using the least amount of information to get a point across." - <em>Rick Rubin</em></blockquote><div class='explanation-media'><img src='/images/svg/bit_depth_range.svg' alt='Bit Depth & Dynamics' /></div>""",
    "v1_p3_t5_a_2": """<h3>The Limit</h3><p>The <strong>Nyquist Theorem</strong> states you must sample at 2x the highest frequency. 2 x 20kHz = 40kHz.</p><blockquote>"Math doesn't lie."</blockquote><div class='explanation-media'><img src='/images/Hotspot Quiz Images/Sample Rate hotspot.png' alt='Nyquist & Sample Rate' /></div>""",
    "v1_p3_t5_a_3": """<h3>Phase Math</h3><p>Noise enters both wires equally. The receiving gear inverts the 'Cold' signal, which puts the audio in phase and the noise out of phase, cancelling the noise.</p><div class='explanation-media'><img src='/images/svg/balanced_cable.svg' alt='Balanced CMRR' /></div>""",
    "v1_p3_t5_a_4": """<h3>Impedance Bridging</h3><p>Low output impedance allows the device to drive long cables and multiple inputs (like splitting a signal) without signal loss or high-frequency roll-off.</p><div class='explanation-media'><img src='/images/svg/auto_output_impedance.svg' alt='Output Impedance' /></div>""",
    "v1_p3_t5_a_5": """<h3>Linearizing Error</h3><p><strong>Dither</strong> randomizes quantization error, converting unpleasant distortion at the quietest levels into a benign, constant hiss.</p><blockquote>"You can only polish a turd so much."</blockquote><div class='explanation-media'><img src='/images/svg/auto_dither.svg' alt='Dither' /></div>""",
    "v1_p3_t5_a_6": """<h3>Follow the Leader</h3><p>Digital audio requires all devices to march to the exact same beat. One device is Master, all others must be Slaves, or clicks/pops will occur.</p><div class='explanation-media'><img src='/images/svg/auto_clock_source.svg' alt='Clock Source' /></div>""",
    "v1_p3_t5_a_7": """<h3>Optical Expansion</h3><p><strong>ADAT Lightpipe</strong> carries 8 channels of uncompressed audio. Note: At 96kHz (SMUX), this drops to 4 channels.</p><div class='explanation-media'><img src='/images/svg/auto_adat_lightpipe.svg' alt='ADAT Lightpipe' /></div>""",
    "v1_p3_t5_a_8": """<h3>The Full Loop</h3><p>RTL is the time it takes for audio to enter the input, go through the computer, and come out the speakers. Anything above 10ms is usually noticeable to performers.</p><div class='explanation-media'><img src='/images/svg/auto_latency_roundtrip.svg' alt='Latency Roundtrip' /></div>""",
    "v1_p3_t5_a_9": """<h3>Sweet Spot</h3><p>While floating-point internal mixers don't clip, <strong>Plugins</strong> modeled on vintage gear (Compressors/EQs) expect -18dBFS. Hitting them with 0dBFS will cause unwanted distortion.</p><div class='explanation-media'><img src='/images/svg/auto_gain_staging_plugins.svg' alt='Gain Staging: Plugins' /></div>""",
    "v1_p3_t5_a_10": """<h3>Digital RCA</h3><p>S/PDIF Coax uses an RCA connector (often orange) but requires 75-ohm digital cable, not standard audio RCA tables.</p><div class='explanation-media'><img src='/images/diagram_spdif_connectors_v2.png' alt='S/PDIF Connector' /></div>""",

    "v1_p3_t5_m_1": """<h3>Timing Errors</h3><p><strong>Jitter</strong> is the variation in sample timing. It blurs the transient detail and collapses the 3D depth of the soundstage.</p><blockquote>"All you're doing is postponing decisions." - <em>Matt Wallace</em></blockquote><div class='explanation-media'><img src='/images/Hotspot Quiz Images/Sample Rate hotspot.png' alt='Jitter Symptoms' /></div>""",
    "v1_p3_t5_m_2": """<h3>Max Voltage</h3><p>Impedance Bridging ensures the source voltage is delivered faithfully to the input. We don't care about power (Watts), only signal integrity (Volts).</p><div class='explanation-media'><img src='/images/diagram_di_box_flow_v2.png' alt='Bridging' /></div>""",
    "v1_p3_t5_m_3": """<h3>Reflections</h3><p>Without termination, the high-frequency word clock signal hits the end of the cable and bounces back, interfering with the incoming signal and confusing the PLL.</p><div class='explanation-media'><img src='/images/svg/auto_word_clock.svg' alt='Check Digit' /></div>""",
    "v1_p3_t5_m_4": """<h3>The Brick Wall</h3><p>Anti-Aliasing filters must be incredibly steep to cut everything above 22.05kHz without touching 20kHz. This is why oversampling converters are used.</p><div class='explanation-media'><img src='/images/diagram_nyquist_v2.png' alt='Filtering' /></div>""",
    "v1_p3_t5_m_5": """<h3>MADI Standard</h3><p><strong>MADI</strong> (AES10) is the big pipe for live sound and broadcast, carrying 64 channels over a single coaxial limit.</p><div class='explanation-media'><img src='/images/svg/auto_madi_channels.svg' alt='MADI' /></div>""",
    "v1_p3_t5_m_6": """<h3>Ground Lift</h3><p>Lifting the ground disconnects the shield at one end. The shield still blocks interference, but the loop circuit for 50/60Hz hum is broken.</p><div class='explanation-media'><img src='/images/diagram_di_box_flow_v2.png' alt='Ground Lift' /></div>""",
    "v1_p3_t5_m_8": """<h3>Hidden Overs</h3><p>Even if samples are legal (below 0dB), the reconstructed analog wave between them might arc higher. True Peak meters spot this.</p><div class='explanation-media'><img src='/images/diagram_clipping_v2.png' alt='Inter Sample' /></div>""",
    "v1_p3_t5_m_10": """<h3>Noise Shaping</h3><p>By sampling at extremely high rates (e.g. 64x) with low resolution (1-bit), noise is pushed out of the audible band, allowing for cheaper, cleaner analog filters.</p><div class='explanation-media'><img src='/images/svg/auto_deltasigma_modulation.svg' alt='Delta-Sigma Modulation' /></div>""",

    # TOPIC 6: MIC TECHNIQUES
    "v1_p3_t6_b_1": """<h3>Built Tough</h3><p><strong>Dynamic Mics</strong> (like the SM57) have simple moving coil mechanics that can handle extreme volume (SPL) without breaking.</p><blockquote>"You can't fix a bad recording in the mix." - <em>Studio Mantra</em></blockquote><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Dynamic Mic' /></div>""",
    "v1_p3_t6_b_2": """<h3>Plosive Control</h3><p>Bursts of air from 'P' and 'B' sounds can slam the diaphragm. A <strong>Pop Shield</strong> disperses this air before it hits the mic.</p><blockquote>"Preparation is everything."</blockquote><div class='explanation-media'><img src='/images/svg/pop_filter.svg' alt='Pop Filter' /></div>""",
    "v1_p3_t6_b_3": """<h3>Detail Capture</h3><p><strong>Condenser Mics</strong> are lighter and more sensitive to high frequencies, making them ideal for the breathy detail of a voice.</p><blockquote>"The vocal is the most important element."</blockquote><div class='explanation-media'><img src='/images/generated/condenser_microphone_large_diaphragm.svg' alt='Mics' /></div>""",
    "v1_p3_t6_b_4": """<h3>The Reach</h3><p>A <strong>Boom Arm</strong> allows the stand to sit away from the player while the mic extends over their instrument (e.g. over a drum kit).</p><div class='explanation-media'><img src='/images/svg/direct_monitoring.svg' alt='Stand' /></div>""",
    "v1_p3_t6_b_5": """<h3>Isolation</h3><p><strong>Close Micing</strong> maximizes the direct signal level compared to the noise, effectively isolating the instrument.</p><div class='explanation-media'><img src='/images/diagram_proximity_effect_v2.png' alt='Close Micing' /></div>""",
    "v1_p3_t6_b_6": """<h3>Direct Aim</h3><p>On-Axis provides the brightest, clearest sound. Pointing it 'Off-Axis' usually rolls off the high frequencies.</p><div class='explanation-media'><img src='/images/gen/diagram_off_axis.svg' alt='Axis' /></div>""",
    "v1_p3_t6_b_7": """<h3>Rumble Defense</h3><p>Vibrations travel up the stand. Elastic bands in the <strong>Shock Mount</strong> suspend the mic so these vibrations don't become low-end noise.</p><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Shockmount' /></div>""",
    "v1_p3_t6_b_8": """<h3>The Pencil Trick</h3><p>High-frequency sibilance beams directly forward. Moving slightly <strong>Off-Axis</strong> lets the harsh air stream bypass the capsule.</p><div class='explanation-media'><img src='/images/gen/diagram_off_axis.svg' alt='Off Axis' /></div>""",
    "v1_p3_t6_b_9": """<h3>Sensitive Touch</h3><p>Studio Condensers have suspended capsules that are incredibly sensitive to chassis vibration. They should never be hand-held.</p><div class='explanation-media'><img src='/images/generated/condenser_microphone_large_diaphragm.svg' alt='Mic' /></div>""",
    "v1_p3_t6_b_10": """<h3>The Blue Smoke</h3><p>Sending voltage into a transformer-less Ribbon mic can turn the aluminum ribbon into a fuse, melting it instantly.</p><div class='explanation-media'><img src='/images/svg/phantom_power_flow.svg' alt='No 48V' /></div>""",

    "v1_p3_t6_i_1": """<h3>Heart Pattern</h3><p><strong>Cardioid</strong> means 'heart-shaped'. It rejects sound from the rear, making it perfect for isolating instruments in a room.</p><blockquote>"Pattern selection is key."</blockquote><div class='explanation-media'><img src='/images/generated/cardioid_pattern_heartshaped.svg' alt='Polar Patterns' /></div>""",
    "v1_p3_t6_i_2": """<h3>Bass Boost</h3><p>The <strong>Proximity Effect</strong> adds warmth and weight to Close-Miced sources. Broadcasters use this for that 'deep radio voice'.</p><div class='explanation-media'><img src='/images/diagram_proximity_effect_v2.png' alt='Proximity' /></div>""",
    "v1_p3_t6_i_3": """<h3>The Dead Side</h3><p>Figure-8 captures front and back but is almost completely deaf at the sides. This is useful for rejecting a singer playing guitar.</p><div class='explanation-media'><img src='/images/gen/diagram_polar_patterns_all.svg' alt='Fig8' /></div>""",
    "v1_p3_t6_i_4": """<h3>Natural Sound</h3><p><strong>Omni mics</strong> sound most natural because they don't suffer from proximity effect and color off-axis sound less than Cardioids.</p><div class='explanation-media'><img src='/images/gen/diagram_polar_patterns_all.svg' alt='Omni' /></div>""",
    "v1_p3_t6_i_5": """<h3>Internal Clipping</h3><p>If the mic itself is distorting (capsule overload), turning down the preamp won't help. You must reduce the level <em>before</em> the mic's electronics using the Pad.</p><div class='explanation-media'><img src='/images/svg/pad_switch.svg' alt='Pad' /></div>""",
    "v1_p3_t6_i_6": """<h3>Rumble Filter</h3><p>The <strong>Low Cut</strong> (High Pass) removes floor noise and muddiness. It's often safer to cut at the source than to try and EQ it out later.</p><div class='explanation-media'><img src='/images/MT Pictures/Channel EQ.png' alt='Low Cut' /></div>""",
    "v1_p3_t6_i_7": """<h3>Spacing Out</h3><p>The <strong>3:1 Rule</strong> states that for every unit of distance between mic and source, spaced mics should be at least 3 units apart to prevent phasing.</p><div class='explanation-media'><img src='/images/generated/31_rule_distance_rule.svg' alt='3:1 Rule' /></div>""",
    "v1_p3_t6_i_8": """<h3>Phase Comb</h3><p>If two mics are too close, the time delay creates Phase Cancellation, resulting in a hollow, filtered sound (Comb Filtering).</p><div class='explanation-media'><img src='/images/generated/31_rule_distance_rule.svg' alt='Spacing' /></div>""",
    "v1_p3_t6_i_9": """<h3>Matched Pair</h3><p>Factory-matched pairs ensure that the Left and Right channels respond identically, preserving a stable stereo image.</p><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Matched Pair' /></div>""",
    
    "v1_p3_t6_a_1": """<h3>Perfect Phase</h3><p><strong>XY Coincident</strong> places capsules as close as possible. Since sound arrives at both at the same time, there is no phase cancellation when summed to mono.</p><div class='explanation-media'><img src='/images/svg/stereo_xy.svg' alt='XY' /></div>""",
    "v1_p3_t6_a_2": """<h3>The Matrix</h3><p>M/S is decoded by: Left = Mid + Side, Right = Mid - Side. This allows you to adjust the stereo width in post-production.</p><div class='explanation-media'><img src='/images/diagram_mid_side_v2.png' alt='MS Matrix' /></div>""",
    "v1_p3_t6_a_3": """<h3>NOS Technique</h3><p><strong>NOS</strong> uses two cardioids spaced 30cm apart at 90 degrees. It combines intensity (angle) and time-of-arrival (spacing) cues for a rich stereo image.</p><div class='explanation-media'><img src='/images/svg/stereo_xy.svg' alt='Stereo Tech' /></div>""",
    "v1_p3_t6_a_4": """<h3>Transient Response</h3><p><strong>SDC</strong> mics have less mass to move, meaning they can react faster to transients (like cymbals) than larger diaphragms.</p><div class='explanation-media'><img src='/images/generated/condenser_microphone_small_diaphragm.svg' alt='SDC' /></div>""",
    "v1_p3_t6_a_5": """<h3>Coloration</h3><p>Sound entering from the side of a diaphragm often sounds dull. Great engineers place mics not just for what they pick up, but for how they color the 'bleed'.</p><div class='explanation-media'><img src='/images/gen/diagram_off_axis.svg' alt='Off Axis Color' /></div>""",
    "v1_p3_t6_a_6": """<h3>Rear Lobe</h3><p><strong>Hypercardioids</strong> are tighter at the front but have a small pickup lobe at the rear. Don't point the rear directly at a monitor wedge!</p><div class='explanation-media'><img src='/images/gen/diagram_polar_patterns_all.svg' alt='Hyper' /></div>""",
    "v1_p3_t6_a_7": """<h3>Boundary Physics</h3><p>By placing the capsule against a wall (boundary), direct and reflected sound arrive instantly together. This doubles the pressure (+6dB) and eliminates comb filtering.</p><div class='explanation-media'><img src='/images/generated/boundary_microphone_pzm__pressure_zone_microphone.svg' alt='PZM' /></div>""",
    "v1_p3_t6_a_10": """<h3>Electret</h3><p><strong>Electret Condensers</strong> have a permanently charged material, so they don't need high voltage for the capsule, though the internal preamp still needs a battery or phantom.</p><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Electret' /></div>""",

    "v1_p3_t6_m_1": """<h3>Blumlein Pair</h3><p>Invented by Alan Blumlein, this technique uses two crossed Figure-8s. It captures a stunningly realistic 360-degree acoustic image of the room.</p><div class='explanation-media'><img src='/images/generated/blumlein_pair.svg' alt='Blumlein' /></div>""",
    "v1_p3_t6_m_2": """<h3>Decca Tree</h3><p>Developed by Decca Records, this uses three flying omnis (L-C-R) to capture the grandeur of an orchestra with a strong center image.</p><div class='explanation-media'><img src='/images/svg/stereo_xy.svg' alt='Decca Tree' /></div>""",
    "v1_p3_t6_m_3": """<h3>Dual Diaphragm</h3><p>Multi-pattern mics use two back-to-back capsules. By combining their signals (e.g. A+B=Omni, A-B=Fig8), any pattern can be created electronically.</p><div class='explanation-media'><img src='/images/diagram_mics_v2.png' alt='Multi Pattern' /></div>""",
    "v1_p3_t6_m_5": """<h3>Jecklin Disc</h3><p>The disc acts as a baffle between two omnis, creating an 'acoustic shadow' that mimics the separation effect of the human head (HRTF).</p><div class='explanation-media'><img src='/images/svg/stereo_xy.svg' alt='Jecklin Disc' /></div>""",
    "v1_p3_t6_m_6": """<h3>Low Noise</h3><p><strong>LDC</strong> mics capture more electrons per sound wave, resulting in a higher signal output and thus a better Signal-to-Noise ratio than SDCs.</p><div class='explanation-media'><img src='/images/generated/condenser_microphone_large_diaphragm.svg' alt='LDC Noise' /></div>""",
    "v1_p3_t6_m_8": """<h3>ORTF Mono Comp</h3><p>ORTF uses spacing (17cm), so phase differences exist. When summed to mono, some comb filtering will occur, unlike X-Y.</p><div class='explanation-media'><img src='/images/svg/stereo_xy.svg' alt='ORTF' /></div>""",
    "v1_p3_t6_m_9": """<h3>Ribbon Storage</h3><p>Storing a ribbon mic on its side can cause the ribbon to sag over years, stretching it out of spec. Always store upright.</p><div class='explanation-media'><img src='/images/generated/ribbon_microphone.svg' alt='Ribbon Care' /></div>""",
    "v1_p3_t6_m_10": """<h3>Binaural Playback</h3><p><strong>Binaural</strong> recordings are captured with a dummy head. They rely on the specific ear-canal resonances. Playing them on speakers destroys the 3D illusion; headphones are mandatory.</p><div class='explanation-media'><img src='/images/diagram_fletcher_munson_v2.png' alt='Binaural' /></div>""",
}

import json
filepath = '/Users/thorhouse/Edexcel_MT_Revision/mtg-web-app/src/data/dictionary_quizzes.json'

with open(filepath, 'r') as f:
    data = json.load(f)

# Update Logic
count = 0
for vol in data['volumes']:
    if vol['id'] == 'vol1':
        for part in vol['parts']:
            if part['id'] == 'p3':
                for topic in part['topics']:
                    for level, questions in topic['levels'].items():
                        for q in questions:
                            if q['id'] in updates:
                                q['explanation'] = updates[q['id']]
                                count += 1

print(f"Updated {count} explanations for Part 3")

with open(filepath, 'w') as f:
    json.dump(data, f, indent=4)
